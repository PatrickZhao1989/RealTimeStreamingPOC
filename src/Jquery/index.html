<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Basic Live Broadcast</title>
<link rel="stylesheet" href="./assets/common.css" />
</head>
<body class="agora-theme">
<div class="navbar-fixed">
 <nav class="agora-navbar">
   <div class="nav-wrapper agora-primary-bg valign-wrapper">
     <h5 class="left-align">Basic Live Streaming</h5>
   </div>
 </nav>
</div>
<form id="form" class="row col l12 s12">
 <div class="row container col l12 s12">
   <div class="col" style="min-width: 433px; max-width: 443px">
     <div class="card" style="margin-top: 0px; margin-bottom: 0px;">
       <div class="row card-content" style="margin-bottom: 0px;">
           <div class="input-field">
             <label for="appID" class="active">App ID</label>
             <input type="text" placeholder="App ID" name="appID">
           </div>
           <div class="input-field">
             <label for="channel" class="active">Channel</label>
             <input type="text" placeholder="channel" name="channel">
           </div>
           <div class="input-field">
             <label for="token" class="active">Token</label>
             <input type="text" placeholder="token" name="token">
           </div>
          Host: <input id="role" type="checkbox" checked></input>
           <div class="row" style="margin: 0">
             <div class="col s12">
             <button class="btn btn-raised btn-primary waves-effect waves-light" id="join">JOIN</button>
             <button class="btn btn-raised btn-primary waves-effect waves-light" id="leave">LEAVE</button>
             <button class="btn btn-raised btn-primary waves-effect waves-light" id="publish">PUBLISH</button>
             <button class="btn btn-raised btn-primary waves-effect waves-light" id="unpublish">UNPUBLISH</button>
             </div>
           </div>
       </div>
     </div>
   </div>
   <div class="col s7">
     <div class="video-grid" id="video">
       <div class="video-view">
         <div id="local_stream" class="video-placeholder"></div>
         <div id="local_video_info" class="video-profile hide"></div>
         <div id="video_autoplay_local" class="autoplay-fallback hide"></div>
       </div>
     </div>
   </div>
 </div>
</form>
<script src="vendor/jquery.min.js"></script>
<script src="vendor/materialize.min.js"></script>
<script src="https://cdn.agora.io/sdk/release/AgoraRTCSDK-3.2.1.js"></script>
<script>
    // rtc object
    var rtc = {
    client: null,
    joined: false,
    published: false,
    localStream: null,
    remoteStreams: [],
    params: {}
    };

    // Options for joining a channel
    var option = {
    appID: "Your App ID",
    channel: "Channel name",
    uid: null,
    token: "Your token"
    }

    // Create a client
    rtc.client = AgoraRTC.createClient({mode: "live", codec: "h264"});

    // Initialize the client
    rtc.client.init(option.appID, function () {
    console.log("init success");
    }, (err) => {
    console.error(err);
    });
    
    // The value of role can be "host" or "audience".
    rtc.client.setClientRole(role); 
</script>
</body>
</html>